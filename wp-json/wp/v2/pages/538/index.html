{"id":538,"date":"2023-12-19T19:44:29","date_gmt":"2023-12-19T19:44:29","guid":{"rendered":"https:\/\/dev.aenix.io\/?page_id=538"},"modified":"2024-02-19T07:53:23","modified_gmt":"2024-02-19T07:53:23","slug":"kubefarm","status":"publish","type":"page","link":"https:\/\/dev.aenix.io\/kubefarm\/","title":{"rendered":"Kubefarm"},"content":{"rendered":"<p>Kubefarm combines everything you need to spawn multiple Kubernetes-in-Kubernetes clusters, along with the network booting configurations to simplify bootstraping your physical servers from scratch.<\/p><p>The project&#8217;s goals are to provide a simple and unified way to deploy Kubernetes on bare metal.<\/p><div class=\"wp-block-image\"><figure class=\"aligncenter\"><a href=\"https:\/\/gist.githubusercontent.com\/kvaps\/c969930f561b24c1f4c09802d5e225c8\/raw\/6347f81814d1eb56ccd2d4cbdb2a8617965cfa9d\/kubefarm.png\" target=\"_blank\" rel=\"noreferrer noopener\"><img decoding=\"async\" src=\"https:\/\/gist.githubusercontent.com\/kvaps\/c969930f561b24c1f4c09802d5e225c8\/raw\/6347f81814d1eb56ccd2d4cbdb2a8617965cfa9d\/kubefarm.png\" alt=\"\" style=\"object-fit:cover\"\/><\/a><\/figure><\/div><h3 class=\"wp-block-heading\">Fast &amp; Simple<\/h3><p>There is no installation process, so you just run your physical servers, andd during boot, they download the system image over the network and run it! Similar to docker containers that have <code>overlayfs<\/code> root.<\/p><p>You don&#8217;t have to think about redundancy and performing updates for your OS anymore! A simple reboot is enough to apply the new image!<\/p><h3 class=\"wp-block-heading\">Declarative<\/h3><p>You can spawn new Kubernetes clusters and PXE-servers just using Helm, very quickly! Just provide all the parameters in the wonderfully simple Yaml format.<\/p><h3 class=\"wp-block-heading\">Customizable<\/h3><p>You can build your own image for the physical servers simply by just using a <a href=\"https:\/\/github.com\/kubefarm\/kubefarm\/blob\/master\/build\/ltsp\/Dockerfile\">Dockerfile<\/a>. The default image is based on Ubuntu. You can put anything you need! Simply add any additional packages and custom kernel modules, and initiate the build!<\/p><h3 class=\"wp-block-heading\">Secure<\/h3><p>You can deploy as many clusters as you want! All of them will have a separate control-plane, non visible to its consumers. Cert-manager will take care of the certificates.<\/p><h3 class=\"wp-block-heading\">Known components<\/h3><p>The whole setup consists of a few components:<\/p><ul class=\"wp-block-list\"><li><strong><a href=\"https:\/\/github.com\/kubefarm\/kubernetes-in-kubernetes\">Kubernetes-in-Kubernetes<\/a><\/strong> &#8211; Kubernetes control-plane packed to a Helm-chart. It is based on the official Kubernetes static pod manifests and using the official Kubernetes docker images.<\/li>\n\n<li><strong><a href=\"https:\/\/github.com\/kubefarm\/dnsmasq-controller\">Dnsmasq-controller<\/a><\/strong> &#8211; A simple wrapper for <code>Dnsmasq<\/code>, which automates the configuration using Kubernetes CRDs and will perform leader-election for DHCP high availability.<\/li>\n\n<li><strong><a href=\"https:\/\/github.com\/ltsp\/ltsp\">LTSP<\/a><\/strong> &#8211; Network boot server and boot time configuration framework for clients. It allows you to boot the OS over the network, directly to RAM and perform initial configurations for each server.<\/li><\/ul><h3 class=\"wp-block-heading\">Screenshots<\/h3><div class=\"wp-block-group\"><div class=\"wp-block-group__inner-container is-layout-constrained wp-block-group-is-layout-constrained\"><figure class=\"wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex\"><figure data-wp-context=\"{&quot;uploadedSrc&quot;:&quot;https:\\\/\\\/dev.aenix.io\\\/wp-content\\\/uploads\\\/2023\\\/12\\\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process.png&quot;,&quot;figureClassNames&quot;:&quot;wp-block-image size-full is-style-default&quot;,&quot;figureStyles&quot;:null,&quot;imgClassNames&quot;:&quot;wp-image-565&quot;,&quot;imgStyles&quot;:null,&quot;targetWidth&quot;:2236,&quot;targetHeight&quot;:1267,&quot;scaleAttr&quot;:false,&quot;ariaLabel&quot;:&quot;Enlarge image&quot;,&quot;alt&quot;:&quot;&quot;}\" data-wp-interactive=\"core\/image\" class=\"wp-block-image size-full is-style-default wp-lightbox-container\"><img fetchpriority=\"high\" decoding=\"async\" width=\"2236\" height=\"1267\" data-wp-init=\"callbacks.setButtonStyles\" data-wp-on-async--click=\"actions.showLightbox\" data-wp-on-async--load=\"callbacks.setButtonStyles\" data-wp-on-async-window--resize=\"callbacks.setButtonStyles\" src=\"https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process.png\" alt=\"\" class=\"wp-image-565\" srcset=\"https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process.png 2236w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process-300x170.png 300w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process-1024x580.png 1024w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process-768x435.png 768w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process-1536x870.png 1536w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-19-03-Kubefarm-Node-Booting-Process-2048x1160.png 2048w\" sizes=\"(max-width: 2236px) 100vw, 2236px\" \/><button\n\t\t\tclass=\"lightbox-trigger\"\n\t\t\ttype=\"button\"\n\t\t\taria-haspopup=\"dialog\"\n\t\t\taria-label=\"Enlarge image\"\n\t\t\tdata-wp-init=\"callbacks.initTriggerButton\"\n\t\t\tdata-wp-on-async--click=\"actions.showLightbox\"\n\t\t\tdata-wp-style--right=\"context.imageButtonRight\"\n\t\t\tdata-wp-style--top=\"context.imageButtonTop\"\n\t\t>\n\t\t\t<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"12\" height=\"12\" fill=\"none\" viewBox=\"0 0 12 12\">\n\t\t\t\t<path fill=\"#fff\" d=\"M2 0a2 2 0 0 0-2 2v2h1.5V2a.5.5 0 0 1 .5-.5h2V0H2Zm2 10.5H2a.5.5 0 0 1-.5-.5V8H0v2a2 2 0 0 0 2 2h2v-1.5ZM8 12v-1.5h2a.5.5 0 0 0 .5-.5V8H12v2a2 2 0 0 1-2 2H8Zm2-12a2 2 0 0 1 2 2v2h-1.5V2a.5.5 0 0 0-.5-.5H8V0h2Z\" \/>\n\t\t\t<\/svg>\n\t\t<\/button><\/figure>\n\n<figure data-wp-context=\"{&quot;uploadedSrc&quot;:&quot;https:\\\/\\\/dev.aenix.io\\\/wp-content\\\/uploads\\\/2023\\\/12\\\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes.png&quot;,&quot;figureClassNames&quot;:&quot;wp-block-image size-full&quot;,&quot;figureStyles&quot;:null,&quot;imgClassNames&quot;:&quot;wp-image-564&quot;,&quot;imgStyles&quot;:null,&quot;targetWidth&quot;:2236,&quot;targetHeight&quot;:1267,&quot;scaleAttr&quot;:false,&quot;ariaLabel&quot;:&quot;Enlarge image&quot;,&quot;alt&quot;:&quot;&quot;}\" data-wp-interactive=\"core\/image\" class=\"wp-block-image size-full wp-lightbox-container\"><img decoding=\"async\" width=\"2236\" height=\"1267\" data-wp-init=\"callbacks.setButtonStyles\" data-wp-on-async--click=\"actions.showLightbox\" data-wp-on-async--load=\"callbacks.setButtonStyles\" data-wp-on-async-window--resize=\"callbacks.setButtonStyles\" src=\"https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes.png\" alt=\"\" class=\"wp-image-564\" srcset=\"https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes.png 2236w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes-300x170.png 300w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes-1024x580.png 1024w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes-768x435.png 768w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes-1536x870.png 1536w, https:\/\/dev.aenix.io\/wp-content\/uploads\/2023\/12\/Screenshot-2023-12-19-at-21-17-44-Kubefarm-Installing-Kubernetes-in-Kubernetes-2048x1160.png 2048w\" sizes=\"(max-width: 2236px) 100vw, 2236px\" \/><button\n\t\t\tclass=\"lightbox-trigger\"\n\t\t\ttype=\"button\"\n\t\t\taria-haspopup=\"dialog\"\n\t\t\taria-label=\"Enlarge image\"\n\t\t\tdata-wp-init=\"callbacks.initTriggerButton\"\n\t\t\tdata-wp-on-async--click=\"actions.showLightbox\"\n\t\t\tdata-wp-style--right=\"context.imageButtonRight\"\n\t\t\tdata-wp-style--top=\"context.imageButtonTop\"\n\t\t>\n\t\t\t<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"12\" height=\"12\" fill=\"none\" viewBox=\"0 0 12 12\">\n\t\t\t\t<path fill=\"#fff\" d=\"M2 0a2 2 0 0 0-2 2v2h1.5V2a.5.5 0 0 1 .5-.5h2V0H2Zm2 10.5H2a.5.5 0 0 1-.5-.5V8H0v2a2 2 0 0 0 2 2h2v-1.5ZM8 12v-1.5h2a.5.5 0 0 0 .5-.5V8H12v2a2 2 0 0 1-2 2H8Zm2-12a2 2 0 0 1 2 2v2h-1.5V2a.5.5 0 0 0-.5-.5H8V0h2Z\" \/>\n\t\t\t<\/svg>\n\t\t<\/button><\/figure><\/figure><\/div><\/div><p><\/p><h3 class=\"wp-block-heading\">Integrations<\/h3><p>Read the article:<br><a href=\"https:\/\/kubernetes.io\/blog\/2021\/12\/22\/kubernetes-in-kubernetes-and-pxe-bootable-server-farm\/\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>Kubernetes-in-Kubernetes and the WEDOS PXE bootable server farm<\/strong><\/a><\/p><div style=\"height:72px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div><div class=\"wp-block-buttons is-horizontal is-content-justification-left is-layout-flex wp-container-core-buttons-is-layout-1 wp-block-buttons-is-layout-flex\"><div class=\"wp-block-button is-style-primary\"><a class=\"wp-block-button__link wp-element-button\" href=\"https:\/\/dev.aenix.io\/contact\/\">REQUEST A DEMO<\/a><\/div>\n\n<div class=\"wp-block-button is-style-secondary\"><a class=\"wp-block-button__link wp-element-button\" href=\"http:\/\/github.com\/kubefarm\/kubefarm\" target=\"_blank\" rel=\"noreferrer noopener\">SOURCE CODE<\/a><\/div><\/div><div style=\"height:100px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>","protected":false},"excerpt":{"rendered":"<p>Automated Kubernetes deployment and the PXE-bootable servers farm.<\/p>\n","protected":false},"author":1,"featured_media":2005,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"postBodyMargin":[],"postBodyPadding":[],"postBodyBackground":{"backgroundType":"classic","gradient":""},"neve_meta_sidebar":"","neve_meta_container":"","neve_meta_enable_content_width":"on","neve_meta_content_width":65,"neve_meta_title_alignment":"","neve_meta_author_avatar":"","neve_post_elements_order":"","neve_meta_disable_header":"","neve_meta_disable_footer":"","neve_meta_disable_title":"","_ti_tpc_template_sync":false,"_ti_tpc_template_id":"","footnotes":""},"class_list":["post-538","page","type-page","status-publish","has-post-thumbnail","hentry"],"_links":{"self":[{"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/pages\/538"}],"collection":[{"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/comments?post=538"}],"version-history":[{"count":48,"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/pages\/538\/revisions"}],"predecessor-version":[{"id":2020,"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/pages\/538\/revisions\/2020"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/media\/2005"}],"wp:attachment":[{"href":"https:\/\/dev.aenix.io\/wp-json\/wp\/v2\/media?parent=538"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}